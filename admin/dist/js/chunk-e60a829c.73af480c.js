(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e60a829c"],{"05e9":function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("d2-container",[e("div",{staticClass:"messagePromotionAdd mytable"},[e("div",[e("div",{staticClass:"jiangpin"},[t._v("奖品信息")]),e("div",{staticClass:"data_list"},t._l(t.parzeList,function(a,i){return e("div",{key:i,staticClass:"data_list_item"},[e("div",{staticClass:"level_text"},[t._v(t._s(t.getLevel(a.id)))]),e("div",{staticClass:"div_pub"},[t._v("奖品名称："),e("el-input",{attrs:{placeholder:"请输入内容"},on:{blur:function(e){return t.blur(a.id)}},model:{value:a.name,callback:function(e){t.$set(a,"name",e)},expression:"item.name"}})],1),e("div",{staticClass:"div_pub"},[t._v("奖品数量："),e("el-input",{attrs:{placeholder:"请输入内容"},on:{blur:function(e){return t.blur(a.id)}},model:{value:a.grade,callback:function(e){t.$set(a,"grade",e)},expression:"item.grade"}})],1)])}),0)]),e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingStatus,expression:"loadingStatus"}],staticStyle:{"margin-top":"20px"},attrs:{data:t.orderData,border:"",stripe:""}},[e("el-table-column",{attrs:{prop:"is_stop",label:"开奖状态"},scopedSlots:t._u([{key:"default",fn:function(a){return[1==a.row.is_stop?e("span",{staticClass:"stop"},[t._v("已开奖")]):e("span",{staticClass:"start"},[t._v("未开奖")])]}}])}),e("el-table-column",{attrs:{prop:"start",label:"活动开奖时间"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",[t._v(t._s(a.row.end_time))])]}}])}),e("el-table-column",{attrs:{prop:"url",label:"开奖二维码"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-image",{staticClass:"qr_img",attrs:{src:a.row.qrcode_url,"preview-src-list":t.srcList},on:{click:function(e){return t.changeimg(a.row)}}})]}}])}),e("el-table-column",{attrs:{prop:"url",label:"开奖连接"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("a",{attrs:{href:a.row.url,target:"_blank"}},[t._v("点击跳转")])]}}])}),e("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary",size:"mini",loading:t.NextType},on:{click:function(e){return t.NextSession(a.row)}}},[t._v("进入下一抽奖环节")]),e("el-button",{staticStyle:{"margin-left":"20px","margin-top":"10px"},attrs:{type:"primary",size:"mini",loading:t.NextType},on:{click:function(e){return t.resetting(a.row)}}},[t._v("重置抽奖")])]}}])})],1),e("div",{staticStyle:{"text-align":"center"}},[e("el-pagination",{attrs:{"current-page":t.page,"page-sizes":[10,20,30,50,100],"page-size":t.page_count,layout:"total, sizes, prev, pager, next, jumper",total:t.total_count},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),e("el-dialog",{staticClass:"daiinfo",attrs:{title:"活动详情",visible:t.dialogTableVisible},on:{"update:visible":function(a){t.dialogTableVisible=a}}},[e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingStatus_d,expression:"loadingStatus_d"}],staticStyle:{"margin-top":"20px"},attrs:{data:t.InfoData,border:"",stripe:""}},[e("el-table-column",{attrs:{prop:"nickname",label:"昵称"}}),e("el-table-column",{attrs:{label:"是否中奖"},scopedSlots:t._u([{key:"default",fn:function(a){return[1==a.row.is_win?e("span",{staticClass:"start"},[t._v("是")]):e("span",{staticClass:"stop"},[t._v("否")])]}}])}),e("el-table-column",{attrs:{prop:"name",label:"奖品"},scopedSlots:t._u([{key:"default",fn:function(a){return[1==a.row.is_win?e("span",[1==t.itemInfo.ac_type?e("span",[t._v("天猫精灵")]):t._e(),2==t.itemInfo.ac_type?e("span",[t._v("小米手环")]):t._e(),3==t.itemInfo.ac_type?e("span",[t._v("Airpods")]):t._e()]):t._e()]}}])}),e("el-table-column",{attrs:{prop:"created_at",label:"参加活动时间"}})],1),e("div",{staticStyle:{"text-align":"center"}},[e("el-pagination",{attrs:{"current-page":t.page_a,"page-sizes":[10,20,30,50,100],"page-size":t.page_count_a,layout:"total, sizes, prev, pager, next, jumper",total:t.total_count_a},on:{"size-change":t.handleSizeChange_a,"current-change":t.handleCurrentChange_a}})],1)],1)],1)])},n=[],s=e("d84e"),o={data:function(){return{loadingStatus:!1,loadingdown:!1,page:1,page_count:10,total_count:0,orderData:[],name:"",srcList:[],valuetime:"",valuetime_end:"",loadingStatus_d:!1,InfoData:[],dialogTableVisible:!1,page_a:1,page_count_a:10,total_count_a:0,id:"",type:1,itemInfo:{},DrawAPrizeStatus:!1,NextType:!1,parzeList:[]}},created:function(){this.getServiceData()},methods:{getLevel:function(t){return 1==t?"一等奖":2==t?"二等奖":3==t?"三等奖":""},blur:function(t){for(var a=[],e=0;e<this.parzeList.length;e++)this.parzeList[e].id==t&&a.push(this.parzeList[e]);a.length&&this.saveDataPublic(a)},saveDataPublic:function(t){var a=this,e={dataList:t};this.SaveStatus=!0,this.$http.post(s["a"].saveParze,e).then(function(t){a.SaveStatus=!1,200==t.body.code?(a.$message({message:"保存成功",type:"success"}),a.getServiceData()):a.$message({message:"保存失败",type:"error"})},function(){this.SaveStatus=!1,this.$message({message:"保存失败",type:"error"})})},resetting:function(t){var a=this;this.$confirm("是否确认重置抽奖环节?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var e={activity:t.encryption};a.NextType=!0,a.$http.post(s["a"].resettingDraw,e).then(function(t){a.NextType=!1,200==t.body.code?(a.$message({type:"success",message:"操作成功!"}),a.getServiceData()):a.$message({message:t.body.msg,type:"error"})},function(){this.NextType=!1,this.$message({message:"操作失败",type:"error"})})}).catch(function(){a.$message({type:"info",message:"已取消操作"})})},NextSession:function(t){var a=this;this.$confirm("是否确认进入下一抽奖环节?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var e={activity:t.encryption};a.NextType=!0,a.$http.post(s["a"].editNext,e).then(function(t){a.NextType=!1,200==t.body.code?(a.$message({type:"success",message:"操作成功!"}),a.getServiceData()):a.$message({message:t.body.msg,type:"error"})},function(){this.NextType=!1,this.$message({message:"操作失败",type:"error"})})}).catch(function(){a.$message({type:"info",message:"已取消操作"})})},DrawAPrize:function(){var t=this,a={activity:this.itemInfo.encryption};this.DrawAPrizeStatus=!0,this.$http.post(s["a"].startpc_dc,a).then(function(a){t.DrawAPrizeStatus=!1,200==a.body.code?(t.itemInfo.is_top=1,t.$message({message:"开奖成功",type:"success"}),t.selectdia()):t.$message({message:"开奖失败",type:"error"})},function(){this.DrawAPrizeStatus=!1,this.$message({message:"开奖失败",type:"error"})})},showdialog:function(t){this.id=t.id,this.page_a=1,this.dialogTableVisible=!0,this.itemInfo=t,this.selectdia()},selectdia:function(){var t=this;this.loadingStatus_d=!0;var a="?page="+this.page_a+"&page_size="+this.page_count_a+"&id="+this.id;this.$http.get(s["a"].activityinfo+a).then(function(a){var e=a.data.data;t.loadingStatus_d=!1,"200"==a.data.code&&(t.total_count_a=e.count,t.InfoData=e.data)},function(){this.loadingStatus=!1,this.$message({message:"请求失败",type:"error"})})},changeimg:function(t){this.srcList=[t.qrcode_url]},getServiceData:function(){var t=this;this.loadingStatus=!0;var a="?page=1&page_size=10&type=0";this.$http.get(s["a"].getactivitylist+a).then(function(a){var e=a.data.data;if("200"==a.data.code){t.total_count=e.count;var i=e.data;t.parzeList=e.prizes,t.orderData=i,t.loadingStatus=!1}},function(){this.loadingStatus=!1,this.$message({message:"请求失败",type:"error"})})},handleSizeChange:function(t){this.page_count=30,t>0&&(this.page_count=t),this.getServiceData()},handleCurrentChange:function(t){this.page=0==t?1:t,this.getServiceData()},handleSizeChange_a:function(t){this.page_count_a=30,t>0&&(this.page_count_a=t),this.selectdia()},handleCurrentChange_a:function(t){this.page_a=0==t?1:t,this.selectdia()}}},r=o,c=(e("f43a"),e("dcc6"),e("2877")),d=function(t){t.options.__source="src/views/yun/shortmessage/activity/activity1.vue"},l=d,u=Object(c["a"])(r,i,n,!1,null,"177f349a",null);"function"===typeof l&&l(u);a["default"]=u.exports},9255:function(t,a,e){},d84e:function(t,a,e){"use strict";if(e.d(a,"a",function(){return n}),"localhost"==document.domain)var i=window.location.protocol+"//"+document.domain;else i=window.location.protocol+"//"+document.domain+"/capi";var n={};n.baseUrl=i,n.getactivitylist=i+"/admin/activitylist",n.downloadactivity=i+"/admin/downloadactivity",n.activityinfo=i+"/admin/activityinfo",n.downloadactivityinfo=i+"/admin/downloadactivityinfo",n.downloadactivity=i+"/admin/downloadactivity",n.addactivity=i+"/admin/addactivity",n.addactivity_dc=i+"/admin/addactivity_dc",n.addactivity_rt=i+"/admin/addactivity_rt",n.addactivity_every=i+"/admin/addactivity_every",n.backlist=i+"/admin/backlist",n.addbacklist=i+"/admin/addbacklist",n.delbacklist=i+"/admin/delbacklist",n.startpc_dc=i+"/luckdraw/startpc_dc",n.startpc_rt=i+"/luckdraw/startpc_rt",n.city_list=i+"/admin/city_list",n.city_save=i+"/admin/city_save",n.guest_list=i+"/admin/guest_list",n.designated_room=i+"/admin/designated_room",n.editNext=i+"/admin/editNext",n.getProduct=i+"/admin/getProduct",n.saveProduct=i+"/admin/saveProduct",n.saveProductNew=i+"/admin/saveProductNew",n.addProduct=i+"/admin/addProduct",n.deleteProduct=i+"/admin/deleteProduct",n.updatepic=i+"/admin/updatepic",n.resettingDraw=i+"/admin/resettingDraw",n.saveParze=i+"/admin/saveParze",n.addCity=i+"/admin/addCity",n.deletePrize=i+"/admin/deletePrize",n.addData1=i+"/admin/addData1",n.addData2=i+"/admin/addData2",n.addData3=i+"/admin/addData3",n.addZans=i+"/admin/addZans",n.getData3=i+"/admin/getData3",n.getData4=i+"/admin/getData4",n.getMenus=i+"/admin/getMenus",n.clearData=i+"/admin/clearData",n.getUser=i+"/admin/getUser"},d963:function(t,a,e){},dcc6:function(t,a,e){"use strict";var i=e("9255"),n=e.n(i);n.a},f43a:function(t,a,e){"use strict";var i=e("d963"),n=e.n(i);n.a}}]);
//# sourceMappingURL=chunk-e60a829c.73af480c.js.map